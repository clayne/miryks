#ifndef OPENGL_SHADER_H
#define OPENGL_SHADER_H

#include "types"

#include "camera"
#include "scene"

#include "files.hpp"

#include <glad/glad.h>


struct shader_t
{
	static shader_t *active;

	GLuint id;

	string vert_path, frag_path;
	string vert, frag;

	shader_t();

	void Reload() ;

	void Load(const string &, const string &);
	void Load2();

	void Use();

	void setBool(const char *name, bool value) const;
	void setInt(const char *name, int value) const;
	void setFloat(const char *name, float value) const;
	void setVec2(const char *name, const vec2 &value) const;
	void setVec2(const char *name, float x, float y) const;
	void setVec3(const char *name, const vec3 &value) const;
	void setVec3(const char *name, float x, float y, float z) const;
	void setVec4(const char *name, const vec4 &value) const;
	void setVec4(const char *name, float x, float y, float z, float w);
	void setMat2(const char *name, const mat2 &mat) const;
	void setMat3(const char *name, const mat3 &mat) const;
	void setMat4(const char *name, const mat4 &mat) const;

private:
	void checkCompileErrors(GLuint, string);
};
#endif