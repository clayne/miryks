#ifndef OPENGL_MATERIAL_H
#define OPENGL_MATERIAL_H

#include "types"

struct Material_t
{
	static int pool;
	static Material_t *active;

	int id;
	string name;
	Shader_t *shader;
	Texture_t *map, *normalMap;

	bool
		transparent,
		doubleSided,
		blending,
		testing,
		decal;
	float
		opacity,
		treshold,
		shininess,
		glossiness,
		rotation;
	vec2
		offset,
		repeat,
		center;
	vec3
		color,
		specular,
		emissive;

	mat3 uvTransform;

	Material_t();

	void Use();
	static void Unuse(Material_t *, Material_t *);

	void composeUvTransform();
	void setUvTransformDirectly(float, float, float, float, float, float, float);

	struct depth_func_t
	{
		int sfactor, dfactor;
	} depth_func;
};

#endif
