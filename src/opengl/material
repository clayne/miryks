#ifndef OPENGL_MATERIAL_H
#define OPENGL_MATERIAL_H

#include "types"

struct material_t
{
	int id;

	string name;

	static int ids;
	static material_t *bound;

	shader_t *shader;

	bool transparent, double_sided, blending, testing, decal;

	float opacity = 1.f, treshold = 0, shininess = 20.f, glossiness = 1.f;

	vec3 color, specular, emissive;

	struct depth_func_t {
		int sfactor, dfactor;
	} depth_func;

	vec2 offset, repeat, center;
	float rotation;
	mat3 uv_transform;

	texture_t *map, *normal_map;

	material_t();

	void compose_uv_transform();
	void set_uv_transform_directly(float, float, float, float, float, float, float);

	void bind();
	void unbind();
};

#endif
