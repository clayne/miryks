#ifndef OPENGL_GEOMETRY_H
#define OPENGL_GEOMETRY_H

#include "types"

#include "aabb"

struct vertex_t
{
	vec3 position;
	vec2 uv;
	vec3 normal;
	vec4 color = vec4(1, 1, 1, 1);
	vec3 tangent;
	vec3 bitangent;
};

struct geometry_t
{
	bool created = false;
	bool lines = false;
	bool collide = true;

	GLuint vao, vbo, ebo;

	aabb bb;
	
	group_t *parent = nullptr;
	material_t *material = nullptr;
	//std::vector<texture_t> textures;

	vector<vertex_t> vertices;
	vector<GLuint> elements;

	geometry_t();
	~geometry_t();

	void Draw(const mat4 &);

	void Clear(int, int);

	void SetupMesh();
};

#endif